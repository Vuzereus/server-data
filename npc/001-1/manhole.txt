// Evol scripts.
// Author:
//    Reid
// Description:
//    A manhole near Mona's house.
// Variable:
//    ArtisQuests_MonaDad
// Quest states:
//    0  - Quest not started
//    1  - Mona explained that her dad was missing

001-1,152,52,0	script	#manhole1-001-1	NPC_NO_SPRITE,{

    if (getq(ArtisQuests_MonaDad) < 1) {
        end;
    }

    narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
        l("You hear some creeping and crawling sounds from the murkiness below."),
        l("..."),
        l("Do you want to enter in sewer?"));

    closeclientdialog();
    if (askyesno() == 1) slide_or_warp("001-3-0", 152, 56);
    close;

OnTouch:
    // (has_instance2 wasn't checked if it works)
    if (getq(ArtisQuests_MonaDad) == 2 && has_instance2("mona@"+strcharinfo(0)) >= 0) {
    mesn l("Mundane");
    mesq l("Thanks for saving me. This is enough, I'll watch if Mona is fine and return to Sewers later.");
    next;
    inventoryplace WoodenBow, 1;
    mesn l("Mundane");
    mesq lg("Here, take this @@ as a gift. I'm sure someone as skilled you will make a good use of my old weapon.", "Here, take this @@ as a gift. I'm sure someone as skilled you will make a good use of my old weapon.", getitemlink(WoodenBow));
    getitem WoodenBow, 1;
    setq(ArtisQuests_MonaDad, 3);
    }
    end;

OnInit:
    .sex = G_OTHER;
    .distance = 1;
    end;
}

001-1,196,35,0	script	#manhole2-001-1	NPC_NO_SPRITE,{

    if (getq(ArtisQuests_MonaDad) < 1) {
        end;
    }

    narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
        l("You hear some creeping and crawling sounds from the murkiness below."),
        l("..."),
        l("Do you want to enter in sewer?"));

    closeclientdialog();
    if (askyesno() == 1) slide_or_warp("001-3-0", 196, 36);
    close;

OnInit:
    .sex = G_OTHER;
    .distance = 1;
    end;
}
