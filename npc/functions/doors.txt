// Evol functions.
// Authors:
//    4144
// Description:
//    Doors utility functions
// Variables:
//    none

function	script	doorTouch	{
    if (getareausers() <= 1)
    {
        setnpcdir 2;
        stopnpctimer;
        initnpctimer;
    }
    close;
}

function	script	doorUnTouch	{
    if (getareausers() == 0)
    {
        setnpcdir 4;
        initnpctimer;
        startnpctimer;
    }
    close;
}

function	script	doorTimer	{
    stopnpctimer;
    if (getnpcdir() == 2) setnpcdir 6;
    if (getnpcdir() == 4) setnpcdir 8;
    end;
}


function	script	open_door	{
    .@door$ = getarg(0);
    setnpcdir .@door$, 2;
    sleep 300;
    setnpcdir .@door$, 6;
    sleep 300;
    return 0;
}


function	script	close_door	{
    .@door$ = getarg(0);
    setnpcdir .@door$, 4;
    sleep 300;
    setnpcdir .@door$, 8;
    sleep 300;
    return 0;
}
